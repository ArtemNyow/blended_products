{"version":3,"file":"wishlist.js","sources":["../src/wishlist.js"],"sourcesContent":["\n//Логіка сторінки Wishlist\n\nimport { updateNavCartCount, updateNavWishlistCount } from \"./js/helpers\";\nimport { closeModal, initModalCartButton, initModalWishlistButton, openModal } from \"./js/modal\";\nimport { getProductsById } from \"./js/products-api\";\nimport { refs } from \"./js/refs\";\nimport { hideNoProductsMessage,renderProductsModal,renderProductToCategory, showNoProductsMessage } from \"./js/render-function\";\nimport { getWishlist } from \"./js/storage\";\n\nasync function initWishlistPage() {\n    updateNavWishlistCount();\n    updateNavCartCount();\n    refs.loader.classList.add('active');\n\n    const wishlistIds = getWishlist();\n    if (wishlistIds.length === 0) {\n        refs.productList.innerHTML = \"\";\n        showNoProductsMessage();\n        refs.loader.classList.remove('active'); \n        return;\n    }\n\n    try {\n        const products = await Promise.all(wishlistIds.map(id => getProductsById(id)));\n        renderProductToCategory(products);\n        hideNoProductsMessage;\n    } catch ({error}) {\n        iziToast.error({ message: \"Failed to load wishlist products\", position: \"topRight\" });\n    }finally {\n        refs.loader.classList.remove('active'); \n    }\n    \n}\n\nrefs.productList.addEventListener(\"click\", async (event) => {\n    const productItem = event.target.closest(\".products__item\");\n    if (!productItem) return;\n    \n    const productId = Number(productItem.dataset.id);\n\n    try {\n        const product = await getProductsById(productId);\n        renderProductsModal(product);\n        openModal();\n        initModalCartButton(productId);\n        initModalWishlistButton(productId);\n        refs.modalCloseBtn.addEventListener('click', closeModal)\n    } catch (error) {\n        iziToast.error({ message: \"Failed to load product details\", position: \"topRight\" });\n    }finally {\n        refs.loader.classList.remove('active'); \n    }\n})\n\ninitWishlistPage();"],"names":["initWishlistPage","updateNavWishlistCount","updateNavCartCount","refs","wishlistIds","getWishlist","showNoProductsMessage","products","id","getProductsById","renderProductToCategory","hideNoProductsMessage","error","event","productItem","productId","product","renderProductsModal","openModal","initModalCartButton","initModalWishlistButton","closeModal"],"mappings":"yNAUA,eAAeA,GAAmB,CAC9BC,IACAC,IACAC,EAAK,OAAO,UAAU,IAAI,QAAQ,EAElC,MAAMC,EAAcC,IACpB,GAAID,EAAY,SAAW,EAAG,CAC1BD,EAAK,YAAY,UAAY,GAC7BG,IACAH,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrC,MACH,CAED,GAAI,CACA,MAAMI,EAAW,MAAM,QAAQ,IAAIH,EAAY,IAAII,GAAMC,EAAgBD,CAAE,CAAC,CAAC,EAC7EE,EAAwBH,CAAQ,EAChCI,CACR,OAAa,CAAC,MAAAC,CAAK,EAAG,CACd,SAAS,MAAM,CAAE,QAAS,mCAAoC,SAAU,UAAU,CAAE,CAC5F,QAAK,CACGT,EAAK,OAAO,UAAU,OAAO,QAAQ,CACxC,CAEL,CAEAA,EAAK,YAAY,iBAAiB,QAAS,MAAOU,GAAU,CACxD,MAAMC,EAAcD,EAAM,OAAO,QAAQ,iBAAiB,EAC1D,GAAI,CAACC,EAAa,OAElB,MAAMC,EAAY,OAAOD,EAAY,QAAQ,EAAE,EAE/C,GAAI,CACA,MAAME,EAAU,MAAMP,EAAgBM,CAAS,EAC/CE,EAAoBD,CAAO,EAC3BE,IACAC,EAAoBJ,CAAS,EAC7BK,EAAwBL,CAAS,EACjCZ,EAAK,cAAc,iBAAiB,QAASkB,CAAU,CAC1D,MAAe,CACZ,SAAS,MAAM,CAAE,QAAS,iCAAkC,SAAU,UAAU,CAAE,CAC1F,QAAK,CACGlB,EAAK,OAAO,UAAU,OAAO,QAAQ,CACxC,CACL,CAAC,EAEDH,EAAkB"}