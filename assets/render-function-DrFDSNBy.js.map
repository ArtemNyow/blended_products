{"version":3,"file":"render-function-DrFDSNBy.js","sources":["../../src/js/refs.js","../../src/js/constants.js","../../src/js/storage.js","../../src/js/helpers.js","../../src/js/products-api.js","../../src/js/render-function.js"],"sourcesContent":["//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n    categoryList: document.querySelector(\".categories\"),\n    productList: document.querySelector(\".products\"),\n    notFound: document.querySelector(\".not-found\"),\n    modal: document.querySelector(\".modal\"),\n    modalProduct: document.querySelector(\".modal-product\"),\n    modalCloseBtn: document.querySelector(\".modal__close-btn\"),\n    searchForm:document.querySelector(\".search-form\"),\n    searchBtnClear:document.querySelector(\".search-form__btn-clear\"),\n    searchInput: document.querySelector(\".search-form__input\"),\n    cartCount: document.querySelector('[data-cart-count]'),\n    wishlistCount: document.querySelector('[data-wishlist-count]'),\n    modalBtnWishlist: document.querySelector('.modal-product__btn--wishlist'),\n    modalBtnCart: document.querySelector('.modal-product__btn--cart'),\n    cartSummaryCount: document.querySelector(\"[data-count]\"),\n    cartSummaryPrice: document.querySelector(\"[data-price]\"),\n    buyProductsBtn: document.querySelector(\".cart-summary__btn\"),\n    loader: document.getElementById('loader'),\n    scrollUpBtn: document.getElementById('scrollUpBtn'),\n  \n};\n","//Константи\n\nexport const STORAGE_KEYS = {\n    CART: 'cart',\n    WISHLIST: 'wishlist'\n};\n","//Робота з loacalStorage\n\nimport { STORAGE_KEYS } from \"./constants\";\n\n\n\nexport function getCart() {\n    return JSON.parse(localStorage.getItem(STORAGE_KEYS.CART)) || [];\n}\nexport function setCart(cart) {\n    localStorage.setItem(STORAGE_KEYS.CART,JSON.stringify(cart));\n}\n\nexport function addToCart(id) {\n    const cart = getCart()\n        if(!cart.includes(id)){\n        cart.push(id);\n        setCart(cart);\n    }\n    return cart;\n}\n\nexport function removeFromCart(id) {\n    const cart = getCart().filter(itemId => itemId !== id);\n    setCart(cart);\n    return cart;\n}\n\n\n\nexport function getWishlist() {\n    return JSON.parse(localStorage.getItem(STORAGE_KEYS.WISHLIST)) || [];\n}\nexport function setWishlist(wishlist) {\n    localStorage.setItem(STORAGE_KEYS.WISHLIST,JSON.stringify(wishlist));\n}\n\nexport function addToWishlist(id) {\n    const wishlist = getWishlist()\n        if(!wishlist.includes(id)){\n            wishlist.push(id);\n        setWishlist(wishlist);\n    }\n    return wishlist;\n}\n\nexport function removeFromWishlist(id) {\n    const wishlist = getWishlist().filter(itemId => itemId !== id);\n    setWishlist(wishlist);\n    return wishlist;\n}","//Допоміжні функції\n\nimport { refs } from \"./refs\";\nimport { getCart, getWishlist } from \"./storage\";\n\nexport function setActiveCategoryButton(clickedButton, buttonsContainer) {\n    const allButtons = buttonsContainer.querySelectorAll('.categories__btn');\n    allButtons.forEach(btn => btn.classList.remove('categories__btn--active'));\n    clickedButton.classList.add('categories__btn--active');\n  }\n  \n  export function updateNavCartCount() {\n    const cartCount = refs.cartCount;\n    cartCount.textContent = getCart().length;\n  }\n  export function updateNavWishlistCount() {\n    const wishlistCount = refs.wishlistCount;\n    wishlistCount.textContent = getWishlist().length;\n  }\n  \nexport function initScrollUp() {\n  const scrollUpBtn = refs.scrollUpBtn;\n  if (!scrollUpBtn) return;\n\n  window.addEventListener('scroll', () => {\n    if (window.pageYOffset > 300) {\n      scrollUpBtn.style.display = 'block';\n    } else {\n      scrollUpBtn.style.display = 'none';\n    }\n  });\n\n  scrollUpBtn.addEventListener('click', () => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  });\n}","// Функції для роботи з бекендом\nimport axios from \"axios\";\nimport iziToast from \"izitoast\";\n\naxios.defaults.baseURL = 'https://dummyjson.com';\n\nexport async function getCategories() {\n    try {\n        const { data } = await axios('/products/categories');\n        return data; \n    } catch (error) {\n        iziToast.error({ message: error.message,position:\"topRight\"})\n    } \n} \n\nexport async function getProducts(currentPage) {\n    const url = `/products?limit=12&skip=${(currentPage - 1) * 12}`;\n    try {\n        const { data } = await axios(url);\n        return data;  \n    } catch (error) {\n        iziToast.error({ message: error.message,position:\"topRight\"})\n    }\n    \n}\n\nexport async function getProductsToCategory(currentCategorie) {\n    const url = `products/category/${currentCategorie}`;\n    try {\n        const { data } = await axios(url);        \n        return data;  \n        \n    } catch (error) {\n        iziToast.error({ message: error.message,position:\"topRight\"})\n    }\n    \n}\n\n\nexport async function getProductsById(id) {\n    const url = `products/${id}`;\n    try {\n        const { data } = await axios(url);        \n        return data;  \n        \n    } catch (error) {\n        iziToast.error({ message: error.message,position:\"topRight\"})\n    }\n}\n\nexport async function getProductsByValue(value, currentPage = 1, limit = 12) {\n    const skip = (currentPage - 1) * 12;\n    const url = `products/search?q=${encodeURIComponent(value)}&limit=${limit}&skip=${skip}`;    try {\n        const { data } = await axios(url);        \n        return data;  \n        \n    } catch (error) {\n        iziToast.error({ message: error.message,position:\"topRight\"})\n    }\n    \n}","//Функцію для створення, рендеру або видалення розмітки\n\nimport { getCategories, getProducts } from \"./products-api\";\nimport { refs } from \"./refs\";\n\n\n\nexport const markupCategories = categoris => {\n    return categoris.map(\n        ({ name }) => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${name}</button>\n </li>\n`).join('');  \n};\n\nexport const renderCategories = async () => {\n    const categoriesArr = await getCategories();\n    categoriesArr.unshift({ name: 'All' });\n    refs.categoryList.insertAdjacentHTML('beforeend', markupCategories(categoriesArr))\n    \n    \n}\n\nexport const markupProducts = products => {\n    return products.map(\n        ({ id, thumbnail, title, brand, category, price }) => `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category} </p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>\n\n`).join('');  \n};\n\nexport const renderProducts = async currentPage => {\n    const { products } = await getProducts(currentPage);\n    if (products.length > 0) {\n        refs.productList.insertAdjacentHTML('beforeend', markupProducts(products))\n    } \n}\nexport function renderProductToCategory(products) {\n    refs.productList.innerHTML = markupProducts(products);\n  }\n\nexport function showNoProductsMessage() {\n    refs.notFound.classList.add(\"not-found--visible\");\n  }\n  \n  export function hideNoProductsMessage() {\n    refs.notFound.classList.remove(\"not-found--visible\");\n}\n  \n\n\n\nexport function markupProductsModal ({\n  thumbnail, title, price, tags =[], description, returnPolicy, shippingInformation\n})  {\n\n  const tagItems = tags.map(tag => `<li>${tag}</li>`).join('');  return `<img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${tagItems}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${returnPolicy}</p>\n        <p class=\"modal-product__price\">Price: ${price} $</p>\n        <button class=\"modal-product__btn modal-product__btn--buy\" type=\"button\">Buy</button>\n      </div>`\n};\n\n\nexport function renderProductsModal(product) {\n      refs.modalProduct.innerHTML = \"\";\n      refs.modalProduct.insertAdjacentHTML('beforeend', markupProductsModal(product))\n}"],"names":["refs","STORAGE_KEYS","getCart","setCart","cart","addToCart","id","removeFromCart","itemId","getWishlist","setWishlist","wishlist","addToWishlist","removeFromWishlist","setActiveCategoryButton","clickedButton","buttonsContainer","btn","updateNavCartCount","cartCount","updateNavWishlistCount","wishlistCount","initScrollUp","scrollUpBtn","axios","getCategories","data","error","iziToast","getProducts","currentPage","url","getProductsToCategory","currentCategorie","getProductsById","getProductsByValue","value","limit","skip","markupCategories","categoris","name","renderCategories","categoriesArr","markupProducts","products","thumbnail","title","brand","category","price","renderProducts","renderProductToCategory","showNoProductsMessage","hideNoProductsMessage","markupProductsModal","tags","description","returnPolicy","shippingInformation","tagItems","tag","renderProductsModal","product"],"mappings":"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"}