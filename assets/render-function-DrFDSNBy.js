import{a as i,i as u}from"./vendor-CJ_tX8LA.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();const n={categoryList:document.querySelector(".categories"),productList:document.querySelector(".products"),notFound:document.querySelector(".not-found"),modal:document.querySelector(".modal"),modalProduct:document.querySelector(".modal-product"),modalCloseBtn:document.querySelector(".modal__close-btn"),searchForm:document.querySelector(".search-form"),searchBtnClear:document.querySelector(".search-form__btn-clear"),searchInput:document.querySelector(".search-form__input"),cartCount:document.querySelector("[data-cart-count]"),wishlistCount:document.querySelector("[data-wishlist-count]"),modalBtnWishlist:document.querySelector(".modal-product__btn--wishlist"),modalBtnCart:document.querySelector(".modal-product__btn--cart"),cartSummaryCount:document.querySelector("[data-count]"),cartSummaryPrice:document.querySelector("[data-price]"),buyProductsBtn:document.querySelector(".cart-summary__btn"),loader:document.getElementById("loader"),scrollUpBtn:document.getElementById("scrollUpBtn")},l={CART:"cart",WISHLIST:"wishlist"};function d(){return JSON.parse(localStorage.getItem(l.CART))||[]}function m(t){localStorage.setItem(l.CART,JSON.stringify(t))}function $(t){const e=d();return e.includes(t)||(e.push(t),m(e)),e}function w(t){const e=d().filter(o=>o!==t);return m(e),e}function p(){return JSON.parse(localStorage.getItem(l.WISHLIST))||[]}function f(t){localStorage.setItem(l.WISHLIST,JSON.stringify(t))}function P(t){const e=p();return e.includes(t)||(e.push(t),f(e)),e}function q(t){const e=p().filter(o=>o!==t);return f(e),e}function v(t,e){e.querySelectorAll(".categories__btn").forEach(c=>c.classList.remove("categories__btn--active")),t.classList.add("categories__btn--active")}function B(){const t=n.cartCount;t.textContent=d().length}function T(){const t=n.wishlistCount;t.textContent=p().length}function I(){const t=n.scrollUpBtn;t&&(window.addEventListener("scroll",()=>{window.pageYOffset>300?t.style.display="block":t.style.display="none"}),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))}i.defaults.baseURL="https://dummyjson.com";async function h(){try{const{data:t}=await i("/products/categories");return t}catch(t){u.error({message:t.message,position:"topRight"})}}async function S(t){const e=`/products?limit=12&skip=${(t-1)*12}`;try{const{data:o}=await i(e);return o}catch(o){u.error({message:o.message,position:"topRight"})}}async function A(t){const e=`products/category/${t}`;try{const{data:o}=await i(e);return o}catch(o){u.error({message:o.message,position:"topRight"})}}async function O(t){const e=`products/${t}`;try{const{data:o}=await i(e);return o}catch(o){u.error({message:o.message,position:"topRight"})}}async function R(t,e=1,o=12){const c=(e-1)*12,r=`products/search?q=${encodeURIComponent(t)}&limit=${o}&skip=${c}`;try{const{data:s}=await i(r);return s}catch(s){u.error({message:s.message,position:"topRight"})}}const b=t=>t.map(({name:e})=>`<li class="categories__item">
   <button class="categories__btn" type="button">${e}</button>
 </li>
`).join(""),N=async()=>{const t=await h();t.unshift({name:"All"}),n.categoryList.insertAdjacentHTML("beforeend",b(t))},g=t=>t.map(({id:e,thumbnail:o,title:c,brand:r,category:s,price:a})=>`<li class="products__item" data-id="${e}">
    <img class="products__image" src="${o}" alt="${c}"/>
    <p class="products__title">${c}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand: ${r}</span></p>
    <p class="products__category">Category: ${s} </p>
    <p class="products__price">Price: ${a}$</p>
 </li>

`).join(""),M=async t=>{const{products:e}=await S(t);e.length>0&&n.productList.insertAdjacentHTML("beforeend",g(e))};function W(t){n.productList.innerHTML=g(t)}function j(){n.notFound.classList.add("not-found--visible")}function E(){n.notFound.classList.remove("not-found--visible")}function C({thumbnail:t,title:e,price:o,tags:c=[],description:r,returnPolicy:s,shippingInformation:a}){const y=c.map(_=>`<li>${_}</li>`).join("");return`<img class="modal-product__img" src="${t}" alt="${e}" />
      <div class="modal-product__content">
        <p class="modal-product__title">${e}</p>
        <ul class="modal-product__tags">${y}</ul>
        <p class="modal-product__description">${r}</p>
        <p class="modal-product__shipping-information">Shipping: ${a}</p>
        <p class="modal-product__return-policy">Return Policy: ${s}</p>
        <p class="modal-product__price">Price: ${o} $</p>
        <button class="modal-product__btn modal-product__btn--buy" type="button">Buy</button>
      </div>`}function H(t){n.modalProduct.innerHTML="",n.modalProduct.insertAdjacentHTML("beforeend",C(t))}export{H as a,B as b,p as c,W as d,v as e,S as f,O as g,E as h,A as i,R as j,N as k,M as l,I as m,d as n,w as o,$ as p,q,n as r,j as s,P as t,T as u};
//# sourceMappingURL=render-function-DrFDSNBy.js.map
