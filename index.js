import{e as l,r as t,h as i,f as d,i as u,d as c,s as n,g,a as p,j as m,k as y,l as v,b as L,u as h,m as f}from"./assets/render-function-DrFDSNBy.js";import{i as o}from"./assets/vendor-CJ_tX8LA.js";import{o as C,i as P,a as w,c as M}from"./assets/modal-D-kahs9E.js";async function k(e){const r=e.target.closest(".categories__btn");if(!r)return;l(r,t.categoryList);const s=r.textContent.trim();t.productList.innerHTML="",i(),t.loader.classList.add("active");try{let a;s.toLowerCase()==="all"?a=await d(1):a=await u(s),a&&Array.isArray(a.products)&&a.products.length>0?c(a.products):n()}catch(a){o.error({message:a.message,position:"topRight"})}finally{t.loader.classList.remove("active")}}async function B(e){const r=e.target.closest(".products__item");if(!r)return;const s=r.getAttribute("data-id");t.loader.classList.add("active");try{const a=await g(s);p(a),C(),P(s),w(s);return}catch(a){o.error({message:a.message,position:"topRight"})}finally{t.loader.classList.remove("active")}}async function b(e){e.preventDefault();const r=t.searchInput.value.trim();if(r){t.productList.innerHTML="",i(),t.loader.classList.add("active");try{const s=await m(r);s.products.length>0?c(s.products):n()}catch(s){o.error({message:s.message,position:"topRight"})}finally{t.loader.classList.remove("active")}}}async function A(){t.searchInput.value="",t.productList.innerHTML="",i(),t.loader.classList.add("active");try{const e=await d(1);e&&Array.isArray(e.products)&&e.products.length>0?c(e.products):n()}catch(e){o.error({message:e.message,position:"topRight"})}finally{t.loader.classList.remove("active")}}async function E(){try{t.loader.classList.add("active"),await y(),await v(1),L(),h(),f(),t.categoryList.addEventListener("click",k),t.productList.addEventListener("click",B),t.modalCloseBtn.addEventListener("click",M),t.searchForm.addEventListener("submit",b),t.searchBtnClear.addEventListener("click",A)}catch(e){o.error({message:e.message,position:"topRight"})}finally{t.loader.classList.remove("active")}}window.addEventListener("DOMContentLoaded",E);
//# sourceMappingURL=index.js.map
